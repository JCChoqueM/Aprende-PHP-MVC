{"version":3,"sources":["sidebar.js","ui.js","utils.js","app.js"],"names":["initSidebar","updateStats","updateCacheTime","initSearch","statsElement","document","getElementById","sidebarData","textContent","totalTemas","totalEjercicios","undefined","cacheAge","minutes","Math","floor","hours","timeText","cacheTimeElement","toggleTema","element","ejercicios","nextElementSibling","tema","closest","isCollapsed","classList","contains","toggle","temaId","dataset","localStorage","setItem","restoreTemaStates","querySelectorAll","forEach","titulo","querySelector","stored","getItem","add","remove","activeLink","searchBox","addEventListener","e","filterExercises","target","value","toLowerCase","trim","searchTerm","links","link","style","display","hasVisible","match","search","includes","refreshCache","baseUrl","window","location","href","split","toggleSidebar","closeSidebar","toggleIndexCollapse","sidebar","restoreIndexCollapseState","initSidebarEvents","key","toggleCollapsible","handleSubmit","event","preventDefault","input1","input2","result","Number","innerHTML","scrollIntoView","behavior","block","clearForm","reset","expandDiagram","stopPropagation","console","log","initUIEvents","btn","copyCode","codeId","code","button","navigator","clipboard","writeText","then","showCopyFeedback","catch","err","fallbackCopyCode","originalHTML","background","boxShadow","setTimeout","textarea","createElement","body","appendChild","select","execCommand","removeChild","initSmoothScroll","documentElement","scrollBehavior","path","pathname","contentArea"],"mappings":"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","file":"bundle.js","sourcesContent":["// sidebar.js\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    initSidebar();\n    restoreTemaStates();\n    restoreIndexCollapseState();\n    initSidebarEvents();\n});\n\n/* ================= INICIALIZACIÓN ================= */\n\nfunction initSidebar() {\n    updateStats();\n    updateCacheTime();\n    initSearch();\n}\n\n/* ================= HEADER ================= */\n\nfunction updateStats() {\n    const statsElement = document.getElementById('statsText');\n    if (statsElement && typeof sidebarData !== 'undefined') {\n        statsElement.textContent =\n            `${sidebarData.totalTemas} temas • ${sidebarData.totalEjercicios} ejercicios`;\n    }\n}\n\nfunction updateCacheTime() {\n    if (typeof sidebarData === 'undefined' || sidebarData.cacheAge === undefined) return;\n\n    const cacheAge = sidebarData.cacheAge;\n    const minutes = Math.floor(cacheAge / 60);\n    const hours = Math.floor(minutes / 60);\n\n    let timeText = 'recién actualizado';\n    if (hours > 0) {\n        timeText = `${hours}h ${minutes % 60}m`;\n    } else if (minutes > 0) {\n        timeText = `${minutes}m`;\n    }\n\n    const cacheTimeElement = document.getElementById('cacheTime');\n    if (cacheTimeElement) {\n        cacheTimeElement.textContent = `Caché: ${timeText}`;\n    }\n}\n\n/* ================= TEMAS ================= */\n\nfunction toggleTema(element) {\n    const ejercicios = element.nextElementSibling;\n    const tema = element.closest('.tema');\n\n    const isCollapsed = !element.classList.contains('collapsed'); // true si se colapsa ahora\n\n    element.classList.toggle('collapsed');\n    ejercicios?.classList.toggle('collapsed');\n\n    if (tema) {\n        const temaId = tema.dataset.tema;\n        localStorage.setItem(`tema-${temaId}`, isCollapsed ? 'true' : 'false');\n    }\n}\n\n\nfunction restoreTemaStates() {\n    const temas = document.querySelectorAll('.tema');\n\n    temas.forEach(tema => {\n        const temaId = tema.dataset.tema;\n        const titulo = tema.querySelector('.tema-titulo');\n        const ejercicios = tema.querySelector('.ejercicios');\n\n        // Leer estado guardado en localStorage\n        const stored = localStorage.getItem(`tema-${temaId}`);\n\n        let isCollapsed = true; // por defecto colapsado\n\n        if (stored === 'true') {\n            isCollapsed = true;  // colapsado\n        } else if (stored === 'false') {\n            isCollapsed = false; // abierto\n        }\n\n        // Aplicar clases\n        if (titulo && ejercicios) {\n            if (isCollapsed) {\n                titulo.classList.add('collapsed');\n                ejercicios.classList.add('collapsed');\n            } else {\n                titulo.classList.remove('collapsed');\n                ejercicios.classList.remove('collapsed');\n            }\n        }\n    });\n\n    // Abrir solo tema activo si existe y no tiene estado guardado\n    const activeLink = document.querySelector('.ejercicio-link.active');\n    if (activeLink) {\n        const tema = activeLink.closest('.tema');\n        const temaId = tema.dataset.tema;\n\n        if (!localStorage.getItem(`tema-${temaId}`)) {\n            const titulo = tema.querySelector('.tema-titulo');\n            const ejercicios = tema.querySelector('.ejercicios');\n\n            titulo?.classList.remove('collapsed');\n            ejercicios?.classList.remove('collapsed');\n        }\n    }\n}\n\n\n\n/* ================= BÚSQUEDA ================= */\n\nfunction initSearch() {\n    const searchBox = document.getElementById('searchBox');\n    if (!searchBox) return;\n\n    searchBox.addEventListener('input', function (e) {\n        filterExercises(e.target.value.toLowerCase().trim());\n    });\n}\n\nfunction filterExercises(searchTerm) {\n    const temas = document.querySelectorAll('.tema');\n\n    temas.forEach(tema => {\n        const titulo = tema.querySelector('.tema-titulo');\n        const ejercicios = tema.querySelector('.ejercicios');\n        const links = ejercicios.querySelectorAll('.ejercicio-link');\n\n        if (searchTerm === '') {\n            links.forEach(link => link.classList.remove('hidden'));\n            tema.style.display = 'block';\n            restoreTemaStates();\n            return;\n        }\n\n        titulo.classList.remove('collapsed');\n        ejercicios.classList.remove('collapsed');\n\n        let hasVisible = false;\n\n        links.forEach(link => {\n            const text = link.dataset.search || link.textContent.toLowerCase();\n            const match = text.includes(searchTerm);\n\n            link.classList.toggle('hidden', !match);\n            if (match) hasVisible = true;\n        });\n\n        tema.style.display = hasVisible ? 'block' : 'none';\n    });\n}\n\n/* ================= CACHE ================= */\n\nfunction refreshCache() {\n    const baseUrl = window.location.href.split('?')[0];\n    window.location.href = `${baseUrl}?refresh_cache=1`;\n}\n\n/* ================= SIDEBAR RESPONSIVE ================= */\n\nfunction toggleSidebar() {\n    document.getElementById('sidebar')?.classList.toggle('active');\n    document.getElementById('sidebarOverlay')?.classList.toggle('active');\n}\n\nfunction closeSidebar() {\n    document.getElementById('sidebar')?.classList.remove('active');\n    document.getElementById('sidebarOverlay')?.classList.remove('active');\n}\n\n/* ================= COLAPSAR ÍNDICE ================= */\n\nfunction toggleIndexCollapse() {\n    const sidebar = document.getElementById('sidebar');\n    if (!sidebar) return;\n\n    sidebar.classList.toggle('collapsed');\n    localStorage.setItem(\n        'indexCollapsed',\n        sidebar.classList.contains('collapsed')\n    );\n}\n\nfunction restoreIndexCollapseState() {\n    const sidebar = document.getElementById('sidebar');\n    if (localStorage.getItem('indexCollapsed') === 'true') {\n        sidebar?.classList.add('collapsed');\n    }\n}\n\n/* ================= EVENTOS ================= */\n\nfunction initSidebarEvents() {\n    document.addEventListener('keydown', e => {\n        if (e.key === 'Escape') closeSidebar();\n    });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Detectar si la URL no es la raíz\n    const path = window.location.pathname;\n    if (path !== '/' && path !== '/index.php') {\n        // Desplazarse al content-area\n        const contentArea = document.getElementById('content-area');\n        if (contentArea) {\n            // Scroll instantáneo\n            contentArea.scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n    }\n});\n","// ❌ ELIMINAR: export function ...\n// ✅ Funciones normales:\n\nfunction toggleCollapsible(element) {\n  element.classList.toggle(\"active\");\n  element.nextElementSibling.classList.toggle(\"open\");\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const input1 = document.getElementById(\"input1\").value;\n  const input2 = document.getElementById(\"input2\").value;\n  const result = Number(input1) + Number(input2);\n\n  document.getElementById(\"phpResult\").innerHTML = `<strong>Entrada:</strong> ${input1}, ${input2}<br><strong>Resultado:</strong> ${result}`;\n  document.getElementById(\"jsResult\").innerHTML = `<strong>Entrada:</strong> ${input1}, ${input2}<br><strong>Resultado:</strong> ${result}`;\n  document.getElementById(\"solutionSection\").scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\n\n  return false;\n}\n\nfunction clearForm() {\n  document.getElementById(\"exerciseForm\").reset();\n}\n\nfunction expandDiagram(event) {\n  event.stopPropagation();\n  console.log(\"Expandir diagrama - Lógica a implementar\");\n}\n\nfunction initUIEvents() {\n  document.querySelectorAll(\".diagram-expand-btn\").forEach(btn => {\n    btn.addEventListener(\"click\", expandDiagram);\n  });\n}\n\nfunction copyCode(codeId, event) {\n  const code = document.getElementById(codeId).textContent;\n  const button = event && event.target ? event.target : document.querySelector(\".copy-btn\");\n\n  navigator.clipboard.writeText(code).then(() => {\n    showCopyFeedback(button);\n  }).catch(err => {\n    fallbackCopyCode(code, button);\n  });\n}\n\nfunction showCopyFeedback(button) {\n  const originalHTML = button.innerHTML;\n  button.innerHTML = \"✅ Copiado\";\n  button.style.background = \"linear-gradient(135deg, #10b981 0%, #059669 100%)\";\n  button.style.boxShadow = \"0 4px 12px rgba(16, 185, 129, 0.5)\";\n\n  setTimeout(() => {\n    button.innerHTML = originalHTML;\n    button.style.background = \"\";\n    button.style.boxShadow = \"\";\n  }, 2000);\n}\n\nfunction fallbackCopyCode(code, button) {\n  const textarea = document.createElement(\"textarea\");\n  textarea.value = code;\n  document.body.appendChild(textarea);\n  textarea.select();\n  document.execCommand(\"copy\");\n  document.body.removeChild(textarea);\n\n  const originalHTML = button.innerHTML;\n  button.innerHTML = \"✅ Copiado\";\n  setTimeout(() => {\n    button.innerHTML = originalHTML;\n  }, 2000);\n}","// ❌ ELIMINAR: export function ...\n// ✅ Función normal:\n\nfunction initSmoothScroll() {\n  document.documentElement.style.scrollBehavior = \"smooth\";\n}","// ❌ ELIMINAR todos los import\n// ✅ Solo el código de inicialización:\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n  initSidebarEvents();\n  initUIEvents();\n  initSmoothScroll();\n  console.log(\"✅ Aplicación  inicializda correctamente\");\n});"]}