{"version":3,"sources":["tarea.js"],"names":["calculateFactorialJS","n","formatNumber","number","toLocaleString","toggleNav","nav","document","getElementById","navText","classList","toggle","toggleDiagram","diagram","icon","calculateFactorial","input","phpResult","jsResult","errorMsg","num","parseInt","value","isNaN","remove","textContent","add","result","fetch","method","headers","Content-Type","body","encodeURIComponent","then","response","json","data","success","textEl","querySelector","message","catch","err","console","error","handleKeyPress","event","key","preventDefault","addEventListener","inputNumber"],"mappings":"AASA,SAASA,qBAAqBC,GAC1B,OAAU,IAANA,GAAiB,IAANA,EAAgB,EACxBA,EAAID,qBAAqBC,EAAI,GAQxC,SAASC,aAAaC,GAClB,OAAOA,EAAOC,eAAe,SAOjC,SAASC,YACL,MAAMC,EAAMC,SAASC,eAAe,OAC9BC,EAAUF,SAASC,eAAe,YAExCF,EAAII,UAAUC,OAAO,aACrBF,EAAQC,UAAUC,OAAO,UAO7B,SAASC,gBACL,MAAMC,EAAUN,SAASC,eAAe,WAClCM,EAAOP,SAASC,eAAe,eAErCK,EAAQH,UAAUC,OAAO,WACzBG,EAAKJ,UAAUC,OAAO,WAO1B,SAASI,qBACL,MAAMC,EAAQT,SAASC,eAAe,eAChCS,EAAYV,SAASC,eAAe,aACpCU,EAAWX,SAASC,eAAe,YACnCW,EAAWZ,SAASC,eAAe,YAGnCY,GAFOb,SAASC,eAAe,iBAEzBa,SAASL,EAAMM,QAI3B,GAAoB,KAAhBN,EAAMM,OAAgBC,MAAMH,IAAQA,EAAM,GAAKA,EAHlC,GAOb,OAHAD,EAAST,UAAUc,OAAO,UAC1BP,EAAUQ,YAAc,SACxBP,EAASO,YAAc,KAI3BN,EAAST,UAAUgB,IAAI,UAGvB,MAAMC,EAAS3B,qBAAqBoB,GACpCF,EAASO,YAAcvB,aAAayB,GAGpCC,MAAM,gBAAiB,CACnBC,OAAQ,OACRC,QAAS,CACLC,eAAgB,qCAEpBC,KAAM,UAAYC,mBAAmBb,KAEpCc,KAAKC,GAAYA,EAASC,QAC1BF,KAAKG,IACF,GAAIA,EAAKC,QACLrB,EAAUQ,YAAcvB,aAAamC,EAAKV,YACvC,CACHV,EAAUQ,YAAc,IACxBN,EAAST,UAAUc,OAAO,UAC1B,MAAMe,EAASpB,EAASqB,cAAc,eAClCD,IAAQA,EAAOd,YAAcY,EAAKI,SAAW,yBAGxDC,MAAMC,IACH1B,EAAUQ,YAAc,IACxBN,EAAST,UAAUc,OAAO,UAC1B,MAAMe,EAASpB,EAASqB,cAAc,eAClCD,IAAQA,EAAOd,YAAc,gBACjCmB,QAAQC,MAAMF,KAI1B,SAASG,eAAeC,GACF,UAAdA,EAAMC,MACND,EAAME,iBACNlC,sBAQRR,SAAS2C,iBAAiB,oBAAoB,WAE1C,MAAMC,EAAc5C,SAASC,eAAe,eACxC2C,GACAA,EAAYD,iBAAiB,WAAYJ","file":"tarea.js","sourcesContent":["/* ==========================================\r\n   FUNCIONES DE UTILIDAD\r\n   ========================================== */\r\n\r\n/**\r\n * Calcula el factorial de forma recursiva\r\n * @param {number} n - Número para calcular factorial\r\n * @returns {number} Resultado del factorial\r\n */\r\nfunction calculateFactorialJS(n) {\r\n    if (n === 0 || n === 1) return 1;\r\n    return n * calculateFactorialJS(n - 1);\r\n}\r\n\r\n/**\r\n * Formatea un número con separadores locales\r\n * @param {number} number - Número a formatear\r\n * @returns {string} Número formateado\r\n */\r\nfunction formatNumber(number) {\r\n    return number.toLocaleString('es-ES');\r\n}\r\n\r\n/* ==========================================\r\n   NAVEGACIÓN\r\n   ========================================== */\r\n\r\nfunction toggleNav() {\r\n    const nav = document.getElementById('nav');\r\n    const navText = document.getElementById('nav-text');\r\n\r\n    nav.classList.toggle('collapsed');\r\n    navText.classList.toggle('hidden');\r\n}\r\n\r\n/* ==========================================\r\n   DIAGRAMA\r\n   ========================================== */\r\n\r\nfunction toggleDiagram() {\r\n    const diagram = document.getElementById('diagram');\r\n    const icon = document.getElementById('diagramIcon');\r\n\r\n    diagram.classList.toggle('visible');\r\n    icon.classList.toggle('rotated');\r\n}\r\n\r\n/* ==========================================\r\n   CÁLCULO DE FACTORIAL\r\n   ========================================== */\r\n\r\nfunction calculateFactorial() {\r\n    const input = document.getElementById('inputNumber');\r\n    const phpResult = document.getElementById('phpResult');\r\n    const jsResult = document.getElementById('jsResult');\r\n    const errorMsg = document.getElementById('errorMsg');\r\n    const form = document.getElementById('calculateForm');\r\n\r\n    const num = parseInt(input.value);\r\n    const maxValue = 20;\r\n\r\n    // Validación\r\n    if (input.value === '' || isNaN(num) || num < 0 || num > maxValue) {\r\n        errorMsg.classList.remove('hidden');\r\n        phpResult.textContent = '—';\r\n        jsResult.textContent = '—';\r\n        return;\r\n    }\r\n\r\n    errorMsg.classList.add('hidden');\r\n\r\n    // Calcular en JavaScript\r\n    const result = calculateFactorialJS(num);\r\n    jsResult.textContent = formatNumber(result);\r\n\r\n    // Enviar al servidor para calcular en PHP sin recargar la página\r\n    fetch('calculate.php', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        body: 'number=' + encodeURIComponent(num)\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data.success) {\r\n                phpResult.textContent = formatNumber(data.result);\r\n            } else {\r\n                phpResult.textContent = '—';\r\n                errorMsg.classList.remove('hidden');\r\n                const textEl = errorMsg.querySelector('.error-text');\r\n                if (textEl) textEl.textContent = data.message || 'Error del servidor';\r\n            }\r\n        })\r\n        .catch(err => {\r\n            phpResult.textContent = '—';\r\n            errorMsg.classList.remove('hidden');\r\n            const textEl = errorMsg.querySelector('.error-text');\r\n            if (textEl) textEl.textContent = 'Error de red';\r\n            console.error(err);\r\n        });\r\n}\r\n\r\nfunction handleKeyPress(event) {\r\n    if (event.key === 'Enter') {\r\n        event.preventDefault();\r\n        calculateFactorial();\r\n    }\r\n}\r\n\r\n/* ==========================================\r\n   INICIALIZACIÓN\r\n   ========================================== */\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    // Agregar listeners a elementos\r\n    const inputNumber = document.getElementById('inputNumber');\r\n    if (inputNumber) {\r\n        inputNumber.addEventListener('keypress', handleKeyPress);\r\n    }\r\n});\r\n"]}