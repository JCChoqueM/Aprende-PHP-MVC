{"version":3,"sources":["sidebar.js"],"names":["toggleSidebar","document","getElementById","classList","toggle","closeSidebar","remove","toggleIndexCollapse","sidebar","isCollapsed","contains","localStorage","setItem","restoreIndexCollapseState","getItem","add","initSidebarEvents","addEventListener","e","key"],"mappings":"OAuBO,SAASA,gBAEZC,SAASC,eAAe,WAAWC,UAAUC,OAAO,UAGpDH,SAASC,eAAe,kBAAkBC,UAAUC,OAAO,iBAOxD,SAASC,eAEZJ,SAASC,eAAe,WAAWC,UAAUG,OAAO,UAGpDL,SAASC,eAAe,kBAAkBC,UAAUG,OAAO,iBAOxD,SAASC,sBACZ,MAAMC,EAAUP,SAASC,eAAe,WAGxCM,EAAQL,UAAUC,OAAO,aAGzB,MAAMK,EAAcD,EAAQL,UAAUO,SAAS,aAG/CC,aAAaC,QAAQ,iBAAkBH,UAOpC,SAASI,4BAEZ,MAAMJ,EAAyD,SAA3CE,aAAaG,QAAQ,kBACnCN,EAAUP,SAASC,eAAe,WAGpCO,GACAD,EAAQL,UAAUY,IAAI,oBASvB,SAASC,oBAEZf,SAASgB,iBAAiB,UAAYC,IAElC,GAAc,WAAVA,EAAEC,IAAkB,CACJlB,SAASC,eAAe,WAG5BC,UAAUO,SAAS,WAC3BL","file":"sidebar.js","sourcesContent":["/*\r\n * GESTIÓN DEL SIDEBAR Y NAVEGACIÓN (sidebar.js)\r\n * ======================================== \r\n * Módulo que controla:\r\n * 1. Abrir/cerrar sidebar en móvil\r\n * 2. Colapsar/expandir el índice (con almacenamiento)\r\n * 3. Navegar con teclado (Escape para cerrar)\r\n * \r\n * Funciones:\r\n * - toggleSidebar(): Abre/cierra el sidebar (móvil)\r\n * - closeSidebar(): Cierra el sidebar\r\n * - toggleIndexCollapse(): Alterna colapso del índice\r\n * - restoreIndexCollapseState(): Restaura estado del colapso\r\n * - initSidebarEvents(): Inicializa event listeners\r\n * \r\n * Se importa desde app.js\r\n * ========================================\r\n */\r\n\r\n/**\r\n * Alterna la visibilidad del sidebar (móvil)\r\n * Muestra/oculta el sidebar y el overlay oscuro\r\n */\r\nexport function toggleSidebar() {\r\n    // Alternar clase 'active' que muestra/oculta el sidebar\r\n    document.getElementById('sidebar').classList.toggle('active');\r\n\r\n    // Alternar clase 'active' del overlay (fondo oscuro)\r\n    document.getElementById('sidebarOverlay').classList.toggle('active');\r\n}\r\n\r\n/**\r\n * Cierra el sidebar completamente\r\n * Se llama cuando se selecciona un ejercicio en móvil\r\n */\r\nexport function closeSidebar() {\r\n    // Remover clase 'active' para ocultar el sidebar\r\n    document.getElementById('sidebar').classList.remove('active');\r\n\r\n    // Remover clase 'active' del overlay\r\n    document.getElementById('sidebarOverlay').classList.remove('active');\r\n}\r\n\r\n/**\r\n * Alterna el estado de colapso del índice\r\n * Guarda el estado en localStorage para persistencia\r\n */\r\nexport function toggleIndexCollapse() {\r\n    const sidebar = document.getElementById('sidebar');\r\n\r\n    // Alternar clase 'collapsed'\r\n    sidebar.classList.toggle('collapsed');\r\n\r\n    // Verificar si está colapsado\r\n    const isCollapsed = sidebar.classList.contains('collapsed');\r\n\r\n    // Guardar estado en localStorage para recordarlo en próximas visitas\r\n    localStorage.setItem('indexCollapsed', isCollapsed);\r\n}\r\n\r\n/**\r\n * Restaura el estado anterior del índice colapsado\r\n * Se llama cuando se generan los capítulos (desde generateChapters)\r\n */\r\nexport function restoreIndexCollapseState() {\r\n    // Obtener estado guardado en localStorage\r\n    const isCollapsed = localStorage.getItem('indexCollapsed') === 'true';\r\n    const sidebar = document.getElementById('sidebar');\r\n\r\n    // Si estaba colapsado, aplicar clase\r\n    if (isCollapsed) {\r\n        sidebar.classList.add('collapsed');\r\n    }\r\n}\r\n\r\n/**\r\n * Inicializa los event listeners del sidebar\r\n * Principalmente para navegar con teclado (Escape)\r\n * Se llama desde app.js al cargar la página\r\n */\r\nexport function initSidebarEvents() {\r\n    // Escuchar eventos de teclado\r\n    document.addEventListener('keydown', (e) => {\r\n        // Si se presiona Escape\r\n        if (e.key === 'Escape') {\r\n            const sidebar = document.getElementById('sidebar');\r\n\r\n            // Si el sidebar está abierto, cerrarlo\r\n            if (sidebar.classList.contains('active')) {\r\n                closeSidebar();\r\n            }\r\n        }\r\n    });\r\n}\r\n"]}