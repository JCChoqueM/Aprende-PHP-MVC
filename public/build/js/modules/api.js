function initApp(){const e=document.getElementById("exerciseForm"),t=document.getElementById("btnResolver");if(!e)return;const n=getRouteParams();if(!n)return;const r=createFormController(e,n);e.addEventListener("input",r.debouncedSend),t?.addEventListener("click",r.send)}function createFormController(e,t){let n=null;async function r(){try{renderMessage(await apiSendExercise(t,e))}catch(e){console.error("Fetch error:",e)}}return{send:r,debouncedSend:function(){clearTimeout(n),n=setTimeout(r,4e3)}}}async function apiSendExercise({tema:e,ejercicio:t},n){const r=`/api/tema${e}/ejercicio${t}`,o=await fetch(r,{method:"POST",body:new FormData(n)});if(!o.ok)throw new Error("HTTP Error");return o.json()}function getRouteParams(){const e=window.location.pathname.match(/tema(\d+)\/ejercicio(\d+)/);return e?{tema:Number(e[1]),ejercicio:Number(e[2])}:null}function renderMessage({mensaje:e}){const t=document.getElementById("jsResult");t&&(t.textContent=e??"Sin respuesta")}document.addEventListener("DOMContentLoaded",initApp);//# sourceMappingURL=api.js.map
