function iniciarAplicacion(){const e=document.getElementById("exerciseForm"),r=document.getElementById("btnResolver");if(!e)return void console.warn("No se encontró el formulario");const o=obtenerParametrosDeURL();if(!o)return void console.warn("No se pudieron obtener los parámetros de la URL");const n=configurarFormulario(e,o);e.addEventListener("input",n.enviarConRetraso),r&&r.addEventListener("click",n.enviarAhora)}function configurarFormulario(e,r){let o=null;async function n(){try{mostrarResultado(await enviarEjercicioAlServidor(r,e))}catch(e){console.error("Error al enviar el ejercicio:",e),mostrarResultado({mensaje:"Error al procesar el ejercicio"})}}return{enviarAhora:n,enviarConRetraso:function(){clearTimeout(o),o=setTimeout(n,4e3)}}}async function enviarEjercicioAlServidor(e,r){const{tema:o,ejercicio:n}=e,t=`/api/tema${o}/ejercicio${n}`,a=await fetch(t,{method:"POST",body:new FormData(r)});if(!a.ok)throw new Error(`Error HTTP: ${a.status}`);return await a.json()}function obtenerParametrosDeURL(){const e=window.location.pathname.match(/tema(\d+)\/ejercicio(\d+)/);return e?{tema:Number(e[1]),ejercicio:Number(e[2])}:null}function mostrarResultado(e){const r=document.getElementById("jsResult");if(!r)return void console.warn("No se encontró el elemento para mostrar resultados");const o=e.mensaje||"Sin respuesta del servidor";r.textContent=o}document.addEventListener("DOMContentLoaded",iniciarAplicacion);//# sourceMappingURL=api5.js.map
