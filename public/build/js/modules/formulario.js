import{enviarEjercicio}from"./api.js";import{debounce}from"./utils.js";export class FormularioEjercicio{constructor(r,e){this.formulario=r,this.parametrosRuta=e,this.elementoResultado=document.getElementById("phpResult"),this.enviarConRetraso=debounce(()=>this.enviar(),4e3)}async enviar(){try{const r=await enviarEjercicio(this.parametrosRuta,this.formulario);this.mostrarMensaje(r.mensaje)}catch(r){console.error("Error al enviar:",r),this.mostrarMensaje("Error al procesar el ejercicio")}}validarFormulario(){const r=new FormData(this.formulario);for(let[e,t]of r.entries())if(t.trim())return!0;return!1}mostrarMensaje(r){this.elementoResultado&&(this.elementoResultado.innerHTML=r||"Sin respuesta")}configurarEventos(r){this.formulario.addEventListener("input",()=>{this.enviarConRetraso()}),r&&r.addEventListener("click",()=>{this.enviar()})}}//# sourceMappingURL=formulario.js.map
