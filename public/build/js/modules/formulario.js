import{enviarEjercicio}from"./api.js";import{debounce}from"./utils.js";export class FormularioEjercicio{constructor(e,r){this.formulario=e,this.parametrosRuta=r,this.elementoResultado=document.getElementById("phpResult"),this.enviarConRetraso=debounce(()=>this.enviar(),4e3)}async enviar(){try{const e=await enviarEjercicio(this.parametrosRuta,this.formulario);this.mostrarMensaje(e.mensaje)}catch(e){console.error("Error al enviar:",e),this.mostrarMensaje("Error al procesar el ejercicio")}}validarFormulario(){const e=new FormData(this.formulario);for(let[r,t]of e.entries())if(t.trim())return!0;return!1}mostrarMensaje(e){this.elementoResultado&&(this.elementoResultado.textContent=e||"Sin respuesta")}configurarEventos(e){this.formulario.addEventListener("input",()=>{this.enviarConRetraso()}),e&&e.addEventListener("click",()=>{this.enviar()})}}//# sourceMappingURL=formulario.js.map
