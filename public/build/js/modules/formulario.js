import{enviarEjercicio}from"./api.js";import{debounce}from"./utils.js";export class FormularioEjercicio{constructor(r,e){this.formulario=r,this.parametrosRuta=e,this.elementoResultado=document.getElementById("phpResult"),this.enviarConRetraso=debounce(()=>this.enviar(),4e3)}async enviar(){try{const r=await enviarEjercicio(this.parametrosRuta,this.formulario);r.error?this.mostrarError(r.mensaje):this.mostrarExito(r.mensaje)}catch(r){console.error("Error al enviar:",r),this.mostrarError("Error de conexión con el servidor")}}mostrarExito(r){this.elementoResultado&&(this.elementoResultado.innerHTML=`\n                <div class="resultado-exito">\n                    ${r||"Operación exitosa"}\n                </div>\n            `)}mostrarError(r){this.elementoResultado&&(this.elementoResultado.innerHTML=`\n                <div class="resultado-error">\n                    ${r||"Error al procesar"}\n                </div>\n            `)}configurarEventos(r){this.formulario.addEventListener("input",()=>{this.enviarConRetraso()}),r&&r.addEventListener("click",r=>{r.preventDefault(),this.enviar()}),this.formulario.addEventListener("submit",r=>{r.preventDefault(),this.enviar()})}}//# sourceMappingURL=formulario.js.map
